package {packageName}.serviceful;

import java.util.List;

import com.ursful.framework.core.annotation.RsInject;
import com.ursful.framework.core.annotation.RsMethod;
import com.ursful.framework.core.annotation.RsService;
import com.ursful.framework.core.annotation.RsMenu;
import com.ursful.framework.database.page.Page;
import com.ursful.framework.database.query.IQuery;
import com.ursful.framework.database.query.QueryDaoImpl;
import com.ursful.framework.database.query.QueryException;

import {packageName}.model.{beanName};
import {packageName}.service.I{beanName}Service;

@RsService(name = "{serviceName}", desc = "{serviceTitle}管理")
{menu}
public class {beanName}Serviceful {
	@RsInject
	protected I{beanName}Service {fieldName}Service;
	
	@RsMethod(name = "/save", desc= "保存{serviceTitle}")
	public boolean save({beanName} {fieldName}){
		return {fieldName}Service.save({fieldName});
	}
	
	@RsMethod(name = "/update", desc= "更新{serviceTitle}")
	public boolean update({beanName} {fieldName}){
		return {fieldName}Service.update({fieldName});
	}
	
	@RsMethod(name = "/delete", desc= "删除{serviceTitle}")
	public boolean delete({beanName} {fieldName}){
		return {fieldName}Service.delete({fieldName});
	}
	
	@RsMethod(name = "/get", desc= "获取{serviceTitle}")
	public {beanName} get({beanName} {fieldName}){
		return {fieldName}Service.get({fieldName});
	}
	
	@RsMethod(name = "/list", desc= "{serviceTitle}列表")
	public List<{beanName}> list({beanName} {fieldName}){
		IQuery<{beanName}> query = null;
		try {
			query = new QueryDaoImpl<{beanName}>()
					.table({beanName}.class)
					.createQuery("*");
			return {fieldName}Service.query(query);
		} catch (QueryException e) {
			e.printStackTrace();
		}
		return null;
	}
	
	@RsMethod(name = "/page", desc= "{serviceTitle}分页")
	public Page page({beanName} {fieldName}, Page page){
		IQuery<{beanName}> query = null;
		try {
			query = new QueryDaoImpl<{beanName}>()
					.table({beanName}.class)
					.createQuery("*")
					.createPage(page);
			return {fieldName}Service.queryPage(query);
		} catch (QueryException e) {
			e.printStackTrace();
		}
		return null;
	}
	
	
}
